<?php require 'templates/layout/hedader.phtml'; ?>

<div class="container mt-5">
    <h2 class="display-6 text-center mb-4">Detalles del Viaje</h2>
    
    <div class="card mb-4">
        <div class="card-body">
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><strong>Destino de Inicio:</strong> <?= $viaje->destino_inicio ?></li>
                <li class="list-group-item"><strong>Destino de Llegada:</strong> <?= $viaje->destino_fin ?></li>
                <li class="list-group-item"><strong>Fecha de Salida:</strong> <?= $viaje->fecha_salida ?></li>
                <li class="list-group-item"><strong>Precio:</strong> $<?= $viaje->precio ?> ARS</li>
                <li class="list-group-item"><strong>Pasajeros:</strong> <?= $persona->nombre ?> <?= $persona->apellido ?></li>
            </ul>
        </div>
    </div>

    <h2 class="display-6 text-center mb-4">Editar Viaje</h2>
    
    <div class="card">
        <div class="card-body">
            <form action="<?= BASE_URL ?>modificarViaje/<?= $id_viaje ?>" method="POST" class="row g-3 needs-validation" novalidate>
                <div class="col-md-4">
                    <label for="validationCustom01" class="form-label">Destino de Inicio</label>
                    <input type="text" class="form-control" id="validationCustom01" name="destino_inicio" value="<?= $viaje->destino_inicio ?>" required>
                    <div class="invalid-feedback">Por favor, ingresa un destino de inicio v치lido.</div>
                </div>

                <div class="col-md-4">
                    <label for="validationCustom02" class="form-label">Destino de Fin</label>
                    <input type="text" class="form-control" id="validationCustom02" name="destino_fin" value="<?= $viaje->destino_fin ?>" required>
                    <div class="invalid-feedback">Por favor, ingresa un destino de fin v치lido.</div>
                </div>

                <div class="col-md-4">
                    <label for="validationCustomUsername" class="form-label">Fecha de Viaje</label>
                    <input type="date" class="form-control" id="validationCustomUsername" name="fecha_salida" value="<?= $viaje->fecha_salida ?>" required>
                    <div class="invalid-feedback">Por favor, selecciona una fecha de viaje v치lida.</div>
                </div>

                <div class="col-md-3">
                    <label for="validationCustom03" class="form-label">Precio del Viaje</label>
                    <input type="number" class="form-control" id="validationCustom03" name="precio" value="<?= $viaje->precio ?>" required>
                    <div class="invalid-feedback">Por favor, ingresa un precio v치lido.</div>
                </div>

                <div class="col-md-4">
                    <label for="id_pasajero" class="form-label">Seleccionar Pasajero</label>
                    <select class="form-select" name="id_pasajero" id="id_pasajero" required>
                        <option selected disabled>Seleccione</option>
                        <?php foreach ($pasajeros as $pasajero): ?>
                            <option value="<?= $pasajero->id_pasajero ?>" <?= $pasajero->id_pasajero == $viaje->id_pasajero ? 'selected' : '' ?>>
                                <?= $pasajero->nombre ?> <?= $pasajero->apellido ?>
                            </option>
                        <?php endforeach; ?>
                    </select>
                    <div class="invalid-feedback">Por favor, selecciona un pasajero.</div>
                </div>

                <div class="col-12 text-center">
                    <button class="btn btn-primary" type="submit">Actualizar Viaje</button>
                </div>
            </form>
        </div>
    </div>
</div>

<?php require 'templates/layout/pieDepagina.phtml'; ?>
